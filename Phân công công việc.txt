# PHÂN CÔNG CÔNG VIỆC DỰ ÁN

## 1. FRONTEND USER (Giao diện người dùng)
### Files:
- **frontend/index.html**: Trang chủ hiển thị video stream và thông tin khách hàng
- **frontend/script.js**: Xử lý tương tác người dùng, cập nhật thông tin thời gian thực
- **frontend/styles.css**: Định dạng giao diện

### Chức năng chính:
- Hiển thị video feed từ camera
- Hiển thị số lượng khách hàng theo giới tính và độ tuổi
- Chụp ảnh và phân tích thông tin khách hàng
- Hiển thị khuyến nghị phân bổ nhân viên

## 2. FRONTEND ADMIN (Giao diện quản trị)
### Files:
- **frontend/admin.html**: Dashboard quản trị với 4 tab chức năng
- **frontend/admin.js**: Xử lý logic quản trị viên
- **frontend/api.js**: Dịch vụ kết nối với API backend

### Tab chức năng:
1. **Phân tích**:
   - Biểu đồ xu hướng khách hàng
   - Thống kê phân bố giới tính, độ tuổi
   - Bảng dữ liệu chi tiết

2. **Sự kiện**:
   - Quản lý sự kiện hiện tại và sắp tới
   - Phân tích hiệu quả sự kiện theo nhóm đối tượng
   - Lịch sử sự kiện và báo cáo

3. **Quản lý nhân viên**:
   - Danh sách nhân viên (thêm, sửa, xóa)
   - Khuyến nghị phân bổ nhân viên theo đặc điểm khách hàng

4. **Cài đặt**:
   - Cấu hình camera
   - Cài đặt nhận diện khuôn mặt
   - Cài đặt hệ thống và lưu trữ dữ liệu

### Hệ thống xác thực:
- Đăng nhập/đăng xuất
- Đăng ký tài khoản (yêu cầu mã xác nhận)
- Phân quyền người dùng (admin, manager, staff)
- Quản lý mật khẩu

## 3. BACKEND DATABASE (Hệ thống cơ sở dữ liệu)
### Files:
- **backend/database.py**: Class Database xử lý tương tác với SQLite
- **backend/setup_database.py**: Script khởi tạo và kiểm tra database

### Bảng dữ liệu:
1. **analytics**: Lưu kết quả phân tích khách hàng
   - Tổng số khách hàng theo thời gian
   - Phân bố giới tính, độ tuổi

2. **staff**: Quản lý thông tin nhân viên
   - Thông tin cá nhân
   - Kinh nghiệm, kỹ năng

3. **recommendations**: Lưu trữ khuyến nghị hệ thống
   - Khuyến nghị phân bổ nhân viên
   - Trạng thái áp dụng

4. **users**: Quản lý tài khoản người dùng
   - Xác thực, phân quyền
   - Thông tin cá nhân, lịch sử đăng nhập

## 4. BACKEND AI (Hệ thống xử lý AI)
### Files:
- **backend/app.py**: API Flask với tích hợp DeepFace
- **backend/run.py**: Script khởi động server

### Chức năng AI:
1. **Xử lý video feed**:
   - Quay video thời gian thực
   - Xử lý frame để phát hiện khuôn mặt

2. **Phân tích khuôn mặt**:
   - Phát hiện giới tính
   - Ước tính độ tuổi
   - Vẽ boundary box trên khuôn mặt

3. **Xử lý dữ liệu**:
   - Phân loại khách hàng theo nhóm độ tuổi
   - Tổng hợp thống kê theo thời gian thực
   - Lưu trữ kết quả phân tích vào database

4. **API Endpoints**:
   - `/video_feed`: Stream video thời gian thực
   - `/analyze`: Phân tích ảnh được upload
   - `/latest_analysis`: Kết quả phân tích mới nhất
   - `/historical_data`: Dữ liệu lịch sử
   - `/auth/*`: Các endpoint xác thực người dùng

